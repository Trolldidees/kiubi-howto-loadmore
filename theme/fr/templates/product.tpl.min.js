/**
 * Méthode permettant le rendu d'un objet produit.
 * Cette méthode peut éventuellement être modifiée afin d'utiliser
 * un moteur de template javascript tel moustache, transparencyjs 
 * ou encore weld.js
 * 
 * @param product 
 * @param options 
 * @return Element|string
 */
render_product=function(a,b){return"v"==b.affichage?render_product_v(a,b):render_product_l(a,b)};
render_product_l=function(a,b){var c="";a.main_thumb&&(c='<figure><a href="'+a.url+'" title="'+a.name+'" class="illustration"> <img src="'+("v"==b.affichage?a.main_thumb.url_g_miniature:a.main_thumb.url_miniature)+'" alt=""></a> </figure>');tpl='<li class="fadein scallup"><form method="post" action="/fr/ecommerce/panier.html"> <input type="hidden" name="pid" value="'+a.id+'" /> <input type="hidden" name="act" value="addP" /> <input type="hidden" name="ctl" value="commandes/panier_detail" /><div class="post_produit">'+c+
'<div class="post_content" '+(c?'style="margin-left: 120px;"':"")+'> <h2><a href="'+a.url+'">'+a.name+'</a></h2> <p class="tags">';$.each(a.tags.split(/,/),function(){if(tag_name=this.replace(/^\s+/,"").replace(/\s+$/,""))tag_url="/fr/recherche/catalogue/tags:"+kiubi.escape(tag_name)+"/",tpl+='<a href="'+tag_url+'">'+tag_name+"</a>"});tpl+="</p>";"no"==a.in_stock?tpl+='<p class="alerte">Produit en rupture de stock</p>':"no"==a.available?tpl+='<p class="alerte">Disponible \u00e0 partir du '+a.release_date_f+
"</p>":"partial"==a.available&&(tpl+='<p class="alerte">Certaines variantes sont indisponibles</p>');tpl+='<div class="desc">'+a.header+'</div> <p class="prix"> <span class="'+(a.is_discounted?"promo":"")+'">'+a.price_inc_vat_label+"</span>"+(a.is_discounted?" <del>"+a.price_base_inc_vat_label+"</del>":"")+'</p> <div class="produit_infos">';"no"!=a.available&&(1<a.variants.length&&(tpl+='<select name="vid" class="variantes">',$.each(a.variants,function(){this.is_available&&(tpl+='<option value="'+
parseInt(this.id)+'">'+this.name+" - "+this.price_inc_vat_label+"</option>")}),tpl+="</select>"),tpl+='<input type="submit" class="bt_panier" value="Ajouter au panier" title="Ajouter au panier">');return tpl+="</div></div></div></form></li>"};
render_product_v=function(a,b){var c="";a.main_thumb&&(c='<figure><a href="'+a.url+'" title="'+a.name+'" class="illustration"> <img src="'+("v"==b.affichage?a.main_thumb.url_g_miniature:a.main_thumb.url_miniature)+'" alt=""></a> </figure>');return tpl='<li class="fadein scallup"><div class="post_produit">'+c+'<div class="post_content" '+(c?'style="margin-left: 120px;"':"")+'> <h2><a href="'+a.url+'">'+a.name+'</a></h2> <p class="prix"> <span class="'+(a.is_discounted?"promo":"")+'">'+a.price_inc_vat_label+
"</span>"+(a.is_discounted?" <del>"+a.price_base_inc_vat_label+"</del>":"")+'</p> <div class="desc">'+a.header+"</div> </div></div>"};